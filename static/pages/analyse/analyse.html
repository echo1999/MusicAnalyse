<!doctype html>

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <title>音乐情感分析</title>
  <meta name="keywords" content="css3, html5, js, background video, fullscreen video">
  <link rel="stylesheet" href="analyse.css" type="text/css">
  <link rel="stylesheet" type="text/css" href="audio.css">
  <script>
    try {
      Typekit.load({
        async: true
      });
    } catch (e) {}
  </script>
</head>

<body>
  <div id="container">
    <video id="background_video" loop muted></video>
    <div id="video_cover"></div>
    <div id="overlay"></div>

    <!-- <section id="main_content">

    </section> -->
    <div id="main_content">
      <div id="main_content_left">
      </div>
      <div id="main_content_right">
        <div id="main_content_right_top">

        </div>
        <div id="main_content_right_bottom">

        </div>
      </div>
    </div>
    <!-- <script src="/demos/googlegg.js"></script> -->
    <div class="audio-box">
      <div class="audio-container">
        <div class="audio-view">
          <!-- <div class="audio-cover" ></div> -->
          <div class="audio-body">
            <h3 class="audio-title">未知歌曲</h3>
            <div class="audio-backs">
              <div class="audio-this-time">00:00</div>
              <div class="audio-count-time">00:00</div>
              <div class="audio-setbacks">
                <i class="audio-this-setbacks">
                  <span class="audio-backs-btn"></span>
                </i>
                <span class="audio-cache-setbacks">
                </span>
              </div>
            </div>
          </div>
          <div class="audio-btn">
            <div class="audio-select">
              <div class="audio-play"></div>
              <div class="audio-volume"></div>
            </div>
            <div class="audio-set-volume">
              <div class="volume-box">
                <i><span></span></i>
              </div>
            </div>
            <div class="audio-list">
              <div class="audio-list-head">
                <p>歌单</p>
                <span class="menu-close">关闭</span>
              </div>
              <ul class="audio-inline">
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="../bideo.js"></script>
  <script src="../main.js"></script>

  <script>
    if (window.location.host.indexOf('github.io') !== -1 && window.location.protocol !== "https:") {
      window.location.protocol = "https";
    }
  </script>
  <script type="text/javascript" src="./js/jquery.min.js"></script>
  <script type="text/javascript" src="./js/audio.js"></script>
  <script src="../../packages/bigsea.js"></script>
  <script type="text/javascript">
    // $(function () {

    // var song = [{
    // // 'cover': 'images/cover2.jpg',
    // 'src': 'http://music.163.com/song/media/outer/url?id=476592630.mp3',
    // // 'src': './music/bg.mp3',
    // 'title': 'Memories'
    // }, ];

    // var audioFn = audioPlay({
    // song: song,
    // autoPlay: false //是否立即播放第一首，autoPlay为true且song为空，会alert文本提示并退出
    // });
    // });
  </script>
  <script type="text/javascript">
    // 取参数
    let o = Sea.query(window.location.search)
    // console.log('🐸', o.songnum)
    // console.log('🐸', type(o.songnum))
    // 传入 input 因为 url 不能带中文 所以要解析一下
    // let v = decodeURIComponent(o.songID)
    Sea.Ajax({
      url: '/analyse.lyric',
      data: {
        songnum: o.songnum
      }
    }).then(res => {
      let html = ''
      if (res) {
        let html = ''
        const songName = res[0]
        const lyric = res[1]
        const songRef = res[2]
        console.log('🐸', songRef)
        html += `
        <h1>${songName}</h1>
        <pre>${lyric}</pre>`
        document.querySelector('#main_content_left').innerHTML = html
        var song = [{
        'src' :'http://m10.music.126.net/20190708111443/aee7a0e94b8aee31b17192e4d50eee18/ymusic/dc3c/8c30/995f/b95302cb5199cc5d72d88b5ad2019717.mp3',
        'title': songName
        }, ];

        var audioFn = audioPlay({
        song: song,
        autoPlay: false //是否立即播放第一首，autoPlay为true且song为空，会alert文本提示并退出
        });
      }
          });


    // Sea('#inputsearch').val(v)
    // Sea('#search').click()
  </script>
</body>

</html>